import{r as m,o as k,c as d,a as t,w as i,v as u,f as g,F as f,e as w,g as a,k as S,h,t as x}from"./index-DnXUMk2B.js";const C={class:"p-8"},V={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},D={class:"space-y-4"},U={class:"flex items-center space-x-4"},B={class:"flex items-center space-x-2"},N={class:"font-medium text-gray-800 dark:text-gray-200"},$={key:0,class:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded"},A={class:"text-sm text-gray-500 dark:text-gray-400"},F={class:"flex items-center space-x-2"},M=["onClick"],P=["onClick"],T=["onClick"],E={__name:"Settings",setup(j){const n=m([]),l=m({id:"",name:"",api:"",detail:"",enabled:!0}),s=()=>{n.value=window.services.video.getSources()},c=()=>{if(!l.value.id||!l.value.name||!l.value.api||!l.value.detail){alert("请填写完整的站点信息");return}if(n.value.some(o=>o.id===l.value.id)){alert("站点ID已存在");return}window.services.video.addSource({...l.value,enabled:!0}),l.value={id:"",name:"",api:"",detail:"",enabled:!0},s()},y=o=>{window.services.video.enableSource(o),s()},p=o=>{window.services.video.disableSource(o),s()},v=o=>{if(confirm("确定要删除这个站点吗？")){const e=n.value.filter(r=>r.id!==o);window.utools.dbStorage.setItem("sources",e),s()}};return k(()=>{s()}),(o,e)=>(a(),d("div",C,[e[14]||(e[14]=t("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-6"},"站点设置",-1)),t("div",V,[e[9]||(e[9]=t("h2",{class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},"添加新站点",-1)),t("div",I,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"站点名称",-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.name=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入站点名称"},null,512),[[u,l.value.name]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"站点ID",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.id=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入站点ID（英文）"},null,512),[[u,l.value.id]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"API地址",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.api=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入API地址"},null,512),[[u,l.value.api]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"详情页地址",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>l.value.detail=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入详情页地址"},null,512),[[u,l.value.detail]])])]),t("div",{class:"mt-4"},[t("button",{onClick:c,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"},e[8]||(e[8]=[t("i",{class:"i-ri-add-box-line"},null,-1),g(" 添加站点 ")]))])]),t("div",_,[e[13]||(e[13]=t("h2",{class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},"站点列表",-1)),t("div",D,[(a(!0),d(f,null,w(n.value,r=>(a(),d("div",{key:r.id,class:S(["flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",{"border-blue-500 dark:border-blue-500":r.enabled}])},[t("div",U,[t("div",null,[t("div",B,[t("h3",N,x(r.name),1),r.enabled?(a(),d("span",$," 已启用 ")):h("",!0)]),t("p",A,x(r.api),1)])]),t("div",F,[r.enabled?(a(),d("button",{key:1,onClick:b=>p(r.id),class:"px-3 py-1 bg-yellow-500 text-white rounded-md transition-colors hover:bg-yellow-600"},e[11]||(e[11]=[t("i",{class:"i-ri-close-line"},null,-1),g(" 禁用 ")]),8,P)):(a(),d("button",{key:0,onClick:b=>y(r.id),class:"px-3 py-1 bg-green-500 text-white rounded-md transition-colors hover:bg-green-600"},e[10]||(e[10]=[t("i",{class:"i-ri-check-line"},null,-1),g(" 启用 ")]),8,M)),t("button",{onClick:b=>v(r.id),class:"px-3 py-1 bg-red-500 text-white rounded-md transition-colors hover:bg-red-600"},e[12]||(e[12]=[t("i",{class:"i-ri-delete-bin-2-line"},null,-1),g(" 删除 ")]),8,T)])],2))),128))])])]))}};export{E as default};
//# sourceMappingURL=Settings-DJcXVDB-.js.map
