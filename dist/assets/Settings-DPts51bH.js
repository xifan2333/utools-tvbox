import{r as e,o as a,i as r,e as l,d,x as t,s as o,F as s,j as i,f as n,n as u,q as c,t as b}from"./vendor-Cr0QY1gi.js";import{a as g}from"./index-Dag2Ocym.js";const x={class:"p-8"},y={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6"},m={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},p={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},v={class:"space-y-4"},k={class:"flex items-center space-x-4"},f={class:"flex items-center space-x-2"},w={class:"font-medium text-gray-800 dark:text-gray-200"},h={key:0,class:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded"},C={class:"text-sm text-gray-500 dark:text-gray-400"},S={class:"flex items-center space-x-2"},I=["onClick"],j=["onClick"],U=["onClick"],V={__name:"Settings",setup(V){const D=g(),A=e([]),P=e({id:"",name:"",api:"",detail:"",enabled:!0}),_=()=>{A.value=window.services.video.getSources()},q=()=>{P.value.id&&P.value.name&&P.value.api&&P.value.detail?A.value.some((e=>e.id===P.value.id))?alert("站点ID已存在"):(window.services.video.addSource({...P.value,enabled:!0}),P.value={id:"",name:"",api:"",detail:"",enabled:!0},_()):alert("请填写完整的站点信息")};return a((()=>{_()})),(e,a)=>(n(),r("div",x,[a[14]||(a[14]=l("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-6"},"站点设置",-1)),l("div",y,[a[9]||(a[9]=l("h2",{class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},"添加新站点",-1)),l("div",m,[l("div",null,[a[4]||(a[4]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"站点名称",-1)),d(l("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>P.value.name=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入站点名称"},null,512),[[t,P.value.name]])]),l("div",null,[a[5]||(a[5]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"站点ID",-1)),d(l("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>P.value.id=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入站点ID（英文）"},null,512),[[t,P.value.id]])]),l("div",null,[a[6]||(a[6]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"API地址",-1)),d(l("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>P.value.api=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入API地址"},null,512),[[t,P.value.api]])]),l("div",null,[a[7]||(a[7]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"详情页地址",-1)),d(l("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>P.value.detail=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200",placeholder:"输入详情页地址"},null,512),[[t,P.value.detail]])])]),l("div",{class:"mt-4"},[l("button",{onClick:q,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"},a[8]||(a[8]=[l("i",{class:"i-ri-add-box-line"},null,-1),o(" 添加站点 ")]))])]),l("div",p,[a[13]||(a[13]=l("h2",{class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},"站点列表",-1)),l("div",v,[(n(!0),r(s,null,i(A.value,(e=>(n(),r("div",{key:e.id,class:u(["flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",{"border-blue-500 dark:border-blue-500":e.enabled}])},[l("div",k,[l("div",null,[l("div",f,[l("h3",w,b(e.name),1),e.enabled?(n(),r("span",h," 已启用 ")):c("",!0)]),l("p",C,b(e.api),1)])]),l("div",S,[e.enabled?(n(),r("button",{key:1,onClick:a=>{return r=e.id,window.services.video.disableSource(r),void _();var r},class:"px-3 py-1 bg-yellow-500 text-white rounded-md transition-colors hover:bg-yellow-600"},a[11]||(a[11]=[l("i",{class:"i-ri-close-line"},null,-1),o(" 禁用 ")]),8,j)):(n(),r("button",{key:0,onClick:a=>{return r=e.id,window.services.video.enableSource(r),void _();var r},class:"px-3 py-1 bg-green-500 text-white rounded-md transition-colors hover:bg-green-600"},a[10]||(a[10]=[l("i",{class:"i-ri-check-line"},null,-1),o(" 启用 ")]),8,I)),l("button",{onClick:a=>(async e=>{await D.confirm("删除站点","确定要删除这个站点吗？此操作不可恢复。",(()=>{window.services.video.removeSource(e),_()}))})(e.id),class:"px-3 py-1 bg-red-500 text-white rounded-md transition-colors hover:bg-red-600"},a[12]||(a[12]=[l("i",{class:"i-ri-delete-bin-2-line"},null,-1),o(" 删除 ")]),8,U)])],2)))),128))])])]))}};export{V as default};
